<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "../../../..";
    gCommonRootRelPath = "../../../..";
    gTopicId = "9.2.7.5";
  
//]]></script>

  <script type="text/javascript" src="../../../../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../../../../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../../../../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../../../../template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="../../../../template/Charcoal_Grey/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Gamepad Input</title>
  <meta name="generator" content="Adobe RoboHelp 2019"/>
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css"/>
  <meta name="rh-authors" content="Mark Alexander"/>
  <meta name="topic-comment" content="Reference section for Gamepad Input"/>
  <meta name="rh-index-keywords" content="gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv"/>
  <meta name="search-keywords" content="Gamepad Input,gamepads,gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv"/>
</head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header" onclick="rh._.goToFullLayout()">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Gamepad Input">
        <span>Gamepad Input</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <span>Click here to see this page in full context</span>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Gamepad Input</h1>
  <p><b></b>GameMaker Studio 2 has a number of dedicated functions that can be used to detect both analogue and digital controls from multiple connected game pads. These functions work similar to the <a href="../Device_Input/Device_Input.htm">Device Inputs</a>,
    in that you can detect up to four different XInput game pads that are connected (and up to 8 DirectInput gamepads) and deal with the input from each one using the same functions. Note that when a gamepad is plugged in to your device (or it is removed)
    then an asynchronous <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events.htm">System Event</a> is triggered where you can deal with the situation using the appropriate functions.</p>
  <p>The gamepad &quot;slots&quot; are indexed from 0 with slots 0 - 3 inclusive being <i>only for Xinput gamepads</i>, ie: Xbox360 controllers and compatibles. However you can also check slots 4 - 11 inclusive for <i>DirectInput</i> gamepads, which means
    you can detect many other models of controller when connected through these slots. It is worth noting that when using DirectInput gamepads, the constants given below may not match exactly the buttons that you expect when they are pressed, due to the
    fragmented and non-standardised way that the API is implemented by controller manufacturers. Because of this, it is recommend that you have some kind of gamepad setup screen in your games where people can redefine the gamepad buttons based on input
    from any connected device to mitigate any issues (there are gamepad &quot;mapping&quot; functions that can help with this on Windows Desktop, Ubuntu, macOS, and Android targets, while on all others you would need to do this yourself using code).</p>
  <p>When working with the gamepad functions, input can come from <strong>axis</strong>, <strong>buttons</strong> and/or <strong>hats</strong> and GameMaker Studio 2 will assign to some or all of the following built-in constants (note that &quot;hats&quot;
    are generally only detected on non-standard controllers):</p>
  <p> </p>
  <table>
    <tbody>
      <tr>
        <th>Constant</th>
        <th>Description</th>
      </tr>
      <tr>
        <td><tt>gp_face1</tt></td>
        <td>Top button 1 (this maps to the <i>&quot;A&quot;</i> on an Xbox 360 controller and the <i>cross</i> on a PS controller)</td>
      </tr>
      <tr>
        <td><tt>gp_face2</tt></td>
        <td>Top button 2 (this maps to the <i>&quot;B&quot;</i> on an Xbox 360 controller and the <i>circle</i> on a PS controller)</td>
      </tr>
      <tr>
        <td><tt>gp_face3</tt></td>
        <td>Top button 3 (this maps to the <i>&quot;X&quot;</i> on an Xbox 360 controller and the <i>square</i> on a PS controller)</td>
      </tr>
      <tr>
        <td><tt>gp_face4</tt></td>
        <td>Top button 4 (this maps to the <i>&quot;Y&quot;</i> on an Xbox 360 controller and the <i>triangle</i> on a PS controller)</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderl</tt></td>
        <td>Left shoulder button</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderlb</tt></td>
        <td>Left shoulder trigger</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderr</tt></td>
        <td>Right shoulder button</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderrb</tt></td>
        <td>Right shoulder trigger</td>
      </tr>
      <tr>
        <td><tt>gp_select</tt></td>
        <td>The select button (this is the <i>PS</i> button on a DS4 controller)</td>
      </tr>
      <tr>
        <td><tt>gp_start</tt></td>
        <td>The start button (this is the &quot;options&quot; button on a PS4 controller)</td>
      </tr>
      <tr>
        <td><tt>gp_stickl</tt></td>
        <td>The left stick pressed (as a button)</td>
      </tr>
      <tr>
        <td><tt>gp_stickr</tt></td>
        <td>The right stick pressed (as a button)</td>
      </tr>
      <tr>
        <td><tt>gp_padu</tt></td>
        <td>D-pad up</td>
      </tr>
      <tr>
        <td><tt>gp_padd</tt></td>
        <td>D-pad down</td>
      </tr>
      <tr>
        <td><tt>gp_padl</tt></td>
        <td>D-pad left</td>
      </tr>
      <tr>
        <td><tt>gp_padr</tt></td>
        <td>D-pad right</td>
      </tr>
      <tr>
        <td><tt>gp_axislh</tt></td>
        <td>Left stick horizontal axis (analogue)</td>
      </tr>
      <tr>
        <td><tt>gp_axislv</tt></td>
        <td>Left stick vertical axis (analogue)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrh</tt></td>
        <td>Right stick horizontal axis (analogue)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrv</tt></td>
        <td>Right stick vertical axis (analogue)</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <p>To better understand exactly what part of the controller each constant represents, you can refer to the following image of a standard Xinput gamepad:</p>
  <p><img alt="Xinput gamepad illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Game_Input/GamePad.png"/>Below you can find a list of all the gamepad functions:</p>
  <p> </p>
  <ul class="colour">
    <li><a href="gamepad_is_supported.htm">gamepad_is_supported</a></li>
    <li><a href="gamepad_is_connected.htm">gamepad_is_connected</a></li>
    <li><a href="gamepad_get_guid.htm">gamepad_get_guid</a></li>
    <li><a href="gamepad_get_device_count.htm">gamepad_get_device_count</a></li>
    <li><a href="gamepad_get_description.htm">gamepad_get_description</a></li>
    <li><a href="gamepad_get_button_threshold.htm">gamepad_get_button_threshold</a></li>
    <li><a href="gamepad_get_axis_deadzone.htm">gamepad_get_axis_deadzone</a></li>
    <li><a href="gamepad_get_option.htm">gamepad_get_option</a></li>
    <li><a href="gamepad_set_button_threshold.htm">gamepad_set_button_threshold</a></li>
    <li><a href="gamepad_set_axis_deadzone.htm">gamepad_set_axis_deadzone</a></li>
    <li><a href="gamepad_set_vibration.htm">gamepad_set_vibration</a></li>
    <li><a href="gamepad_set_colour.htm">gamepad_set_colour</a></li>
    <li><a href="gamepad_set_option.htm">gamepad_set_option</a></li>
    <li><a href="gamepad_axis_count.htm">gamepad_axis_count</a></li>
    <li><a href="gamepad_axis_value.htm">gamepad_axis_value</a></li>
    <li><a href="gamepad_button_check.htm">gamepad_button_check</a></li>
    <li><a href="gamepad_button_check_pressed.htm">gamepad_button_check_pressed</a></li>
    <li><a href="gamepad_button_check_released.htm">gamepad_button_check_released</a></li>
    <li><a href="gamepad_button_count.htm">gamepad_button_count</a></li>
    <li><a href="gamepad_button_value.htm">gamepad_button_value</a></li>
    <li><a href="gamepad_hat_count.htm">gamepad_hat_count</a></li>
    <li><a href="gamepad_hat_value.htm">gamepad_hat_value</a></li>
  </ul>
  <p> </p>
  <p>The following gamepad functions also exist and are used for remapping the built in constants to the direct physical inputs of a given gamepad. These functions are only for the Windows Desktop, Ubuntu, macOS, and Android target platforms and on Windows,
    they will only be valid for Direct input devices. While GameMaker Studio 2 comes with mappings for a number of different gamepads based on <a href="https://github.com/gabomdq/SDL_GameControllerDB" target="_blank">SDL Gamepad Controller DB</a>,
    however due to the huge number of controller types and brands out there, it is impossible to map the GML constants to the correct inputs for every make and model, so with these functions you have the possibility to create your own custom mappings.</p>
  <p> </p>
  <ul class="colour">
    <li><a href="gamepad_get_mapping.htm">gamepad_get_mapping</a></li>
    <li><a href="gamepad_test_mapping.htm">gamepad_test_mapping</a></li>
    <li><a href="gamepad_remove_mapping.htm">gamepad_remove_mapping</a></li>
  </ul>
  <p> </p>
  <p>It is worth noting that Direct Input gamepads are run in <i>cooperative mode</i> which means that your game only has access to them when it is the foreground application, which in turn will cause Direct Input controllers to be &quot;lost&quot; if the
    game loses focus and then &quot;found&quot; again when it comes back into focus (this can be detected in the System Event and dealt with). Similarly, no input from gamepads will be detected while the game is not in focus, and we recommend that you
    use the function <a href="../../OS_And_Compiler/os_is_paused.htm"><tt>os_is_paused()</tt></a> or <a href="../../Cameras_And_Display/The_Game_Window/window_has_focus.htm"><tt>window_has_focus()</tt></a> to detect this and pause the game or something
    similar as any button being held down at the time the game loses focus will maintain the held down state until the game regains focus.</p>
  <p> </p>
  <h2>Compatibility</h2>
  <p>The following list shows current compatibility across the platforms (note that this will change with future updates):</p>
  <ul class="colour">
    <li><strong>Windows </strong>is fully supported with up to a maximum of 12 connected devices permitted at once (numbered from 0 to 11, with 0 - 3 being XInput devices and 4 - 11 being DirectInput). Remapping of controller constants is also permitted.</li>
    <li><strong>macOS </strong>is supported with up to a maximum of 4 connected devices permitted at once, and these devices can ONLY be of the type Playstation3 or Xbox 360. Please note that the &quot;Build for Mac AppStore&quot; option in Mac Game Options
      needs to be OFF for pad support to work. Remapping of controller constants is also permitted.</li>
    <li><strong>Ubuntu </strong>does also support Gamepad input, but you may need to install additional libraries from the Ubuntu repository. You can do this easily by opening a command line terminal and typing the following (this will install GUI support
      for the joystick/gamepad as well as the joystick/gamepad API itself - remapping of controller constants is <i>not</i> permitted):
      <p class="code">sudo apt-get install jstest-gtk<br/> sudo apt-get install joystick.</p>
    </li>
    <li><strong>HTML5 </strong>games using gamepads are supported by most major browsers, except <i>Safari</i>. Remapping of controller constants is <i>not</i> permitted.</li>
    <li>Gamepad support also extends to <strong>iOS </strong>with the iCade cabinet. The left axis maps to the stick controller (although the input is digital, not analogue), the four &quot;face&quot; buttons map to the cabinet front buttons, and the four
      shoulder buttons map to those at the back of the cabinet.</li>
    <li><strong>Android </strong>(and <strong>Amazon Fire</strong>) export supports NYKO controllers and generic Bluetooth controllers, but only when they are enabled, meaning that you will have to tick the iCade/Bluetooth option in the <a href="../../../../Settings/Game_Options/Android.htm">General</a>      section of the Android Game Options. They require API level 12 for them to work fully and it should be noted that GameMaker Studio 2 will register as connected any Bluetooth devices that your device is paired with, whether or not it&#39;s
      actually connected. Therefore this should be taken into account when assigning and checking &quot;slots&quot;. Note that the remapping of controller constants is also permitted.</li>
    <li>On <strong>PS4</strong>, if you want to use the touch pad tracking you need to use the <a href="../Device_Input/Device_Input.htm"><tt>device_mouse_*</tt></a> buttons. Remapping of controller constants is <i>not</i> permitted.</li>
    <li>On <strong>Windows </strong><strong>UWP</strong>, <strong>XBoxOne </strong>and <strong>Nintendo Switch</strong> targets, gamepads are fully supported, but remapping of controller constants is <i>not</i> permitted.</li>
  </ul>
  <p>Ideally, on <i>all</i> target platforms, you want to enumerate a list of available gamepad &quot;slots&quot; and then check them to see if any devices are detected, something like this:</p>
  <p class="code">var maxpads = gamepad_get_device_count();<br/> for (var i = 0; i &lt; maxpads; i++)<br/>     {
    <br/>     if (gamepad_is_connected(i))<br/>         {
    <br/>         // do stuff with pad &quot;i&quot;<br/>         }
    <br/>     }
  </p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Back: <a href="../Game_Input.htm">Game Input</a></div>
        <div style="float:right">Next: <a href="../Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">Virtual Keys and Virtual Keyboards</a></div>
      </div>
    </div>
    <h5>© Copyright YoYo Games Ltd. 2020 All Rights Reserved</h5>
  </div>
  <!-- KEYWORDS
Gamepad Input Functions
gp_face1
gp_face2
gp_face3
gp_face4
gp_shoulderl
gp_shoulderlb
gp_shoulderr
gp_shoulderrb
gp_select
gp_start
gp_stickl
gp_stickr
gp_padu
gp_padd
gp_padl
gp_padr
gp_axislh
gp_axislv
gp_axisrh
gp_axisrv
-->
  <!-- TAGS
gamepad_functions
-->

</body></html>